create database movie_blog;
CREATE USER yappy IDENTIFIED BY '0713';
CREATE TABLE posts (
id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
title VARCHAR(255) NOT NULL,
body TEXT NOT NULL,
user_id INT NOT NULL,
movie_id INT NOT NULL,
genres_id INT NOT NULL,
rating_star ENUM('1','2','3','4','5'),
created_at datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
updated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);
CREATE TABLE users (
id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
email VARCHAR(32) unique key NOT NULL,
name VARCHAR(50) NOT NULL,
password VARCHAR(255) NOT NULL,
created_at datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
updated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);
CREATE TABLE area (
id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
area_name VARCHAR(50) NOT NULL,
created_at datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
updated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);
CREATE TABLE schedule (
id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
movie_id INT NOT NULL,
theater_id INT NOT NULL,
area_id INT NOT NULL,
created_at datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
updated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);
CREATE TABLE movie (
id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
title VARCHAR(50),
theater_id INT NOT NULL,
area_id INT NOT NULL,
created_at datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
updated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);
CREATE TABLE genres (
id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
genre_name VARCHAR(50) NOT NULL,
created_at datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
updated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);
CREATE TABLE theater (
id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
movie_theater VARCHAR(255) NOT NULL,
created_at datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
updated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);
INSERT INTO genres (genre_name, created_at, updated_at) VALUES
('アクション', now(), now()),
('SF', now(), now()),
('コメディ', now(), now()),
('サスペンス', now(), now()),
('時代劇', now(), now()),
('ホラー', now(), now()),
('スポーツ', now(), now()),
('青春', now(), now()),
('パニック', now(), now()),
('戦争', now(), now()),
('恋愛', now(), now()),
('アニメ', now(), now()),
('ショートフィルム', now(), now()),
('音楽', now(), now()),
('ファミリー', now(), now()),
('ファンタジー', now(), now()),
('ドキュメンタリー', now(), now()),
('冒険', now(), now()),
('ミュージカル', now(), now()),
('バイオレンス', now(), now()),
('ギャング・マフィア', now(), now()),
('ヤクザ・任侠', now(), now()),
('歴史', now(), now()),
('西部劇', now(), now());
INSERT INTO area (area_name, created_at, updated_at) VALUES
('東京都千代田区', now(), now()),
('東京都中央区', now(), now()),
('東京都港区', now(), now()),
('東京都新宿区', now(), now()),
('東京都文京区', now(), now()),
('東京都台東区', now(), now()),
('東京都品川区', now(), now()),
('東京都墨田区', now(), now()),
('東京都江東区', now(), now()),
('東京都目黒区', now(), now()),
('東京都大田区', now(), now()),
('東京都世田谷区', now(), now()),
('東京都渋谷区', now(), now()),
('東京都中野区', now(), now()),
('東京都杉並区', now(), now()),
('東京都豊島区', now(), now()),
('東京都北区', now(), now()),
('東京都荒川区', now(), now()),
('東京都板橋区', now(), now()),
('東京都練馬区', now(), now()),
('東京都足立区', now(), now()),
('東京都葛飾区', now(), now()),
('東京都江戸川区', now(), now()),
('東京都23区外', now(), now());
INSERT INTO theater (movie_theater, created_at, updated_at) VALUES
('TOHOシネマズ 新宿', now(), now()),
('新宿ピカデリー', now(), now()),
('新宿バルト9', now(), now()),
('シネマート新宿', now(), now()),
('EJアニメシアター新宿', now(), now()),
('新宿武蔵野館', now(), now()),
('テアトル新宿', now(), now()),
('シネマカリテ', now(), now()),
('Ks cinema', now(), now()),
('TOHOシネマズ 日比谷', now(), now()),
('丸の内ピカデリー', now(), now()),
('TOHOシネマズ シャンテ', now(), now()),
('ヒューマントラストシネマ有楽町', now(), now()),
('角川シネマ有楽町', now(), now()),
('国立映画アーカイブ', now(), now()),
('TOHOシネマズ 日本橋', now(), now()),
('丸の内TOEI', now(), now()),
('東劇', now(), now()),
('シネスイッチ銀座', now(), now()),
('TOHOシネマズ 渋谷', now(), now()),
('CINEMA9', now(), now()),
('渋谷TOEI', now(), now()),
('ヒューマントラストシネマ渋谷', now(), now()),
('シネクイント', now(), now()),
('Bunkamura ル・シネマ', now(), now()),
('ユーロスペース', now(), now()),
('渋谷HUMAXシネマ', now(), now()),
('シアター・イメージフォーラム', now(), now()),
('シネマヴェーラ渋谷', now(), now()),
('アップリンク渋谷', now(), now()),
('WHITE CINE QUINTO', now(), now()),
('池袋HUMAXシネマズ', now(), now()),
('グランドシネマサンシャイン', now(), now()),
('池袋シネマ・ロサ', now(), now()),
('シネ・リーブル池袋', now(), now()),
('新文芸坐', now(), now()),
('TOHOシネマズ 六本木ヒルズ', now(), now()),
('T・ジョイPRINCE品川', now(), now()),
('目黒シネマ', now(), now()),
('YEBISU GARDEN CINEMA', now(), now()),
('東京都写真美術館ホール', now(), now()),
('ユナイテッド・シネマ アクアシティお台場', now(), now()),
('ユナイテッド・シネマ豊洲', now(), now()),
('TOHOシネマズ 上野', now(), now()),
('イオンシネマ板橋', now(), now()),
('ユナイテッド・シネマとしまえん', now(), now()),
('T・ジョイSEIBU大泉', now(), now()),
('TOHOシネマズ 錦糸町 (楽天地・オリナス)', now(), now()),
('109シネマズ木場', now(), now()),
('船堀シネパル', now(), now()),
('109シネマズ二子玉川', now(), now()),
('TOHOシネマズ 西新井', now(), now()),
('MOVIX亀有', now(), now()),
('シネマサンシャイン平和島', now(), now()),
('キネカ大森', now(), now()),
('岩波ホール', now(), now()),
('神保町シアター', now(), now()),
('飯田橋ギンレイホール', now(), now()),
('早稲田松竹', now(), now()),
('下高井戸シネマ', now(), now()),
('下北沢トリウッド', now(), now()),
('ポレポレ東中野', now(), now()),
('ラピュタ阿佐ヶ谷', now(), now()),
('ユジク阿佐ヶ谷', now(), now()),
('シネマブルースタジオ', now(), now()),
('CINEMA Chupki TABATA', now(), now()),
('吉祥寺オデヲン', now(), now()),
('吉祥寺プラザ', now(), now()),
('アップリンク吉祥寺', now(), now()),
('立川シネマシティ', now(), now()),
('kino cinema 立川高島屋 S.C.館', now(), now()),
('MOVIX昭島', now(), now()),
('イオンシネマむさし村山', now(), now()),
('TOHOシネマズ 南大沢', now(), now()),
('イオンシネマ多摩センター', now(), now()),
('イオンシネマ日の出', now(), now()),
('TOHOシネマズ 府中', now(), now()),
('イオンシネマ シアタス調布', now(), now()),
('109シネマズグランベリーパーク', now(), now());

